(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[0],{60:function(e,t,n){},61:function(e,t,n){},69:function(e,t,n){},82:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(31),c=n.n(s),o=(n(60),n(25)),i=n(19),u=(n(61),n(7));function l(){return Object(u.jsx)(u.Fragment,{})}function b(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"About"}),Object(u.jsx)("p",{children:"This is the about page"})]})}function j(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Contact"}),Object(u.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate, quisquam."})]})}function d(){return Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Home"})})}var x,f=n(17),h=n.n(f),m=n(21);function p(){return O.apply(this,arguments)}function O(){return(O=Object(m.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/models/config.json").then((function(e){return e.json()}));case 2:return t=e.sent,x=t,e.abrupt("return",x);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}fetch("/models/config.json").then((function(e){return e.json()})).then((function(e){x=e})).catch((function(e){console.error(e)}));var v=function(e){return e.map((function(e){return Object(u.jsx)(o.b,{to:e.url,children:Object(u.jsx)("img",{src:"https://via.placeholder.com/650",alt:e.title})},e.url)}))};function g(e){var t=e.message,n=e.isShown,r=e.setIsShown;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"alert flex flex-row items-center bg-red-200 p-5 rounded border-b-2 border-red-300 w-2/3 lg:w-1/5 sm:w-1/3 h-1/12 absolute top-20 right-2",style:{opacity:"".concat(n?.9:0),transition:"opacity 0.3s"},onClick:function(){return r(!1)},children:[Object(u.jsx)("div",{children:Object(u.jsx)("span",{children:Object(u.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"Error"}),Object(u.jsx)("div",{children:t})]})]})})}function w(e){return y.apply(this,arguments)}function y(){return(y=Object(m.a)(h.a.mark((function e(t){var n,r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}if(t.classList.contains("shake")){e.next=3;break}return e.abrupt("return");case 3:n=0,r=["translate(-2.5%, -2.5%)","translate(2.5%, 2.5%)","translate(-2.5%, 2.5%)","translate(2.5%, -2.5%)","translate(-2.5%, 0%)","translate(0%, -2.5%)","translate(2.5%, 0%)","translate(0%, 2.5%)","translate(-2.5%, -2.5%)","translate(2.5%, 2.5%)","translate(-2.5%, 2.5%)","translate(2.5%, -2.5%)","translate(-2.5%, 0%)","translate(0%, -2.5%)","translate(2.5%, 0%)","translate(0%, 2.5%)"];case 4:if(!(n<r.length)){e.next=13;break}return a=r[n],navigator.vibrate(50),e.next=9,new Promise((function(e){return setTimeout(e,30)}));case 9:document.getElementById("root").style.transform=a;case 10:n++,e.next=4;break;case 13:setTimeout((function(){document.getElementById("root").style.transform="translate(0, 0%)"}),30);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}new Map;function k(){return(k=Object(m.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(n=x)||void 0===n?void 0:n.length){e.next=3;break}return e.next=3,p();case 3:if(r=x.find((function(e){return e.id===t}))){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",[r.url,r.animate]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){var e=!("true"!==localStorage.dark&&("dark"in localStorage||!window.matchMedia("(prefers-color-scheme: dark)").matches));document.documentElement.classList.toggle("dark-theme",!e),localStorage.setItem("dark",e?"false":"true")}n(69);function z(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("nav",{children:[Object(u.jsx)("div",{className:"logo-container",children:Object(u.jsx)("span",{className:"header-logo",children:"Exim Studio"})}),Object(u.jsxs)("div",{className:"links",children:[Object(u.jsx)(o.c,{onClick:function(e){w(e.target),S()},to:"/",className:"nav-button",activeClassName:"active shake",exact:!0,children:"Home"}),Object(u.jsx)(o.c,{onClick:function(e){return w(e.target)},to:"/contact",activeClassName:"active shake",className:"nav-button",children:"Contact"}),Object(u.jsx)(o.c,{onClick:function(e){return w(e.target)},to:"/about",activeClassName:"active shake",className:"nav-button",children:"About"})]})]})})}var B,P=n(6),L=null,R=new Map;function C(e){return E.apply(this,arguments)}function E(){return(E=Object(m.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.addEventListener("unhandledrejection",(function(e){return t(e.reason.message)})),!L){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,fetch("/models/config.json").then((function(e){return e.json()}));case 5:L=e.sent;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t){return M.apply(this,arguments)}function M(){return(M=Object(m.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(n);case 2:if(t){e.next=4;break}return e.abrupt("return",v(L));case 4:if(r=R.get(t)){e.next=10;break}return e.next=8,fetch("https://worker.exstd.workers.dev/search/?query=".concat(t)).then((function(e){return e.json()}));case 8:r=e.sent,R.set(t,r);case 10:return e.abrupt("return",v(r.map((function(e){return L[e]}))));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){var e=Object(i.g)(),t=Object(r.useState)(!1),n=Object(P.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(""),o=Object(P.a)(c,2),l=o[0],b=o[1];function j(e){console.log(e),b(e),s(!0),clearTimeout(B),B=setTimeout((function(){return s(!1)}),5e3)}var d=Object(r.useState)(Object(u.jsx)("h2",{style:{textAlign:"center",position:"absolute",left:"50%",transform:"translate(-50%, 100%)",fontSize:"2rem"},children:"Loading..!"})),x=Object(P.a)(d,2),f=x[0],h=x[1],m=Object(r.useState)(new URLSearchParams(window.location.search).get("q")||""),p=Object(P.a)(m,2),O=p[0],v=p[1],w=Object(i.f)();return Object(r.useEffect)((function(){O?N(O,j).then((function(e){return h(Object(u.jsx)(u.Fragment,{children:e}))})):N(void 0,j).then((function(e){return h(Object(u.jsx)(u.Fragment,{children:e}))}))}),[O,e.search]),Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{type:"text",value:O,onChange:function(e){return v(e.target.value)},autoFocus:!0,placeholder:"Search",onKeyUp:function(e){w.push("?q=".concat(e.target.value)),N(e.target.value,j).then((function(e){return h(Object(u.jsx)(u.Fragment,{children:e}))}))}}),Object(u.jsx)(g,{isShown:a,message:l,setIsShown:s}),Object(u.jsx)("div",{children:f})]})}var T,I=n(20),q=n(30),A=n(90),_=n(88),G=n(89),U=(n(82),n(54)),D=n(3),H=Object(r.forwardRef)((function(e,t){var n,r=e.pos,a=new D.BoxBufferGeometry(1,1,1,50,50,50),s=new D.MeshLambertMaterial({color:"white"});n=a,s.onBeforeCompile=function(e){e.uniforms.boxSize={value:new D.Vector3(n.parameters.width,n.parameters.height,n.parameters.depth).multiplyScalar(.5)},e.uniforms.radius={value:.1},e.vertexShader="\n  uniform vec3 boxSize;\n  uniform float radius;\n  "+e.vertexShader,e.vertexShader=e.vertexShader.replace("#include <begin_vertex>","#include <begin_vertex>\n    \n    float maxRadius = clamp(radius, 0.0, min(boxSize.x, min(boxSize.y, boxSize.z)));\n    vec3 signs = sign(position);\n    \n    vec3 subBox = boxSize - vec3(maxRadius);\n    \n    vec3 absPos = abs(transformed); \n    // xy\n    vec2 sub = absPos.xy - subBox.xy;\n    if (absPos.x > subBox.x && absPos.y > subBox.y && absPos.z <= subBox.z) {\n      transformed.xy = normalize(sub) * maxRadius + subBox.xy;\n      transformed.xy *= signs.xy;\n    }\n    // xz\n    sub = absPos.xz - subBox.xz;\n    if (absPos.x > subBox.x && absPos.z > subBox.z && absPos.y <= subBox.y) {\n      transformed.xz = normalize(sub) * maxRadius + subBox.xz;\n      transformed.xz *= signs.xz;\n    }\n    // yz\n    sub = absPos.yz - subBox.yz;\n    if (absPos.y > subBox.y && absPos.z > subBox.z && absPos.x <= subBox.x) {\n      transformed.yz = normalize(sub) * maxRadius + subBox.yz;\n      transformed.yz *= signs.yz;\n    }\n    \n    // corner\n    if (all(greaterThan(absPos, subBox))){\n      vec3 sub3 = absPos - subBox;\n      transformed = (normalize(sub3) * maxRadius + subBox) * signs;\n    }\n    \n    // re-compute normals for correct shadows and reflections\n    objectNormal = all(equal(position, transformed)) ? normal : normalize(position - transformed); \n    transformedNormal = normalMatrix * objectNormal; \n\n    ")};var c=new D.Mesh(a,s);return Object(u.jsx)("primitive",{object:c,ref:t,position:r})}));function J(){for(var e=[],t=0;t<8;t++)e.push(Object(r.useRef)(null));return function(e){Object(I.d)((function(t){var n,r=t.clock,a=Math.floor(1.5*r.getElapsedTime()%8),s=null===(n=e[a])||void 0===n?void 0:n.current,c=Math.abs(Math.sin(1.5*r.getElapsedTime()*Math.PI));null===s||void 0===s||s.position.setY(c)}))}(e),Object(u.jsxs)("group",{children:[Object(u.jsx)(H,{pos:[0,0,0]}),Object(u.jsx)(H,{ref:e[0],pos:[1.3,0,0]}),Object(u.jsx)(H,{ref:e[1],pos:[1.3,0,1.3]}),Object(u.jsx)(H,{ref:e[2],pos:[0,0,1.3]}),Object(u.jsx)(H,{ref:e[3],pos:[-1.3,0,1.3]}),Object(u.jsx)(H,{ref:e[4],pos:[-1.3,0,0]}),Object(u.jsx)(H,{ref:e[5],pos:[-1.3,0,-1.3]}),Object(u.jsx)(H,{ref:e[6],pos:[0,0,-1.3]}),Object(u.jsx)(H,{ref:e[7],pos:[1.3,0,-1.3]})]})}function V(e){var t=e.url,n=e.animate,r=e.setTarget,a=Object(I.e)(U.a,t);if(n){var s=Object(q.c)((function(){return{animation:Object(q.b)({speed:{min:.5,max:2,value:1,onChange:function(e){console.log(e)}}})}}));Object(P.a)(s,2)[1]}return a.scene.scale.set(.5,.5,.5),a.scene.position.set(0,0,0),r(a.scene.position),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("primitive",{object:a.scene})})}function K(){var e=Object(i.h)().id,t=void 0===e?"some_unknown_model":e,n=Object(r.useState)(Object(u.jsx)(u.Fragment,{})),a=Object(P.a)(n,2),s=a[0],c=a[1],o=Object(r.useState)([0,0,0]),l=Object(P.a)(o,2),b=l[0],j=l[1],d=Object(r.useState)(!0),x=Object(P.a)(d,2),f=x[0],h=x[1],m=Object(r.useState)(2),p=Object(P.a)(m,2),O=p[0],v=p[1],g=Object(r.useRef)(f),w=Object(r.useRef)(O);Object(r.useEffect)((function(){(function(e){return k.apply(this,arguments)})(t).then((function(e){return c(e?Object(u.jsx)(V,{url:"/".concat(encodeURI(e[0])),animate:e[1],setTarget:j}):Object(u.jsx)(J,{}))}))}),[t]);var y=function(e){h(e),g.current=e},S=Object(q.c)((function(){return{autoRotate:{value:f,onChange:function(e){return y(e)}}}})),z=Object(P.a)(S,2)[1];Object(q.c)({Advanced:Object(q.b)({autorotateSpeed:{min:.5,max:10,value:2,onChange:function(e){var t;v(t=e),w.current=t}}},{collapsed:!0})}),Object(r.useEffect)((function(){window.addEventListener("keydown",(function(e){"Escape"===e.key&&(y(!g.current),z({autoRotate:g.current}))}))}),[]);var B=Object(r.useRef)(null);return Object(u.jsxs)("div",{style:{width:"100vw",height:"100vh"},children:[Object(u.jsx)(q.a,{titleBar:{title:"Settings",filter:!1},hideCopyButton:!0,isRoot:!0,theme:{space:{rowGap:"5px",colGap:"2px"}}}),Object(u.jsx)(A.a,{showPanel:0,className:"stats"}),Object(u.jsxs)(I.a,{ref:B,frameloop:"demand",className:"canvas",gl:{alpha:!1},children:[Object(u.jsx)("ambientLight",{intensity:.5}),Object(u.jsx)("pointLight",{position:[10,10,10]}),Object(u.jsx)(_.a,{position:[0,0,0]}),Object(u.jsx)(G.a,{autoRotate:f,autoRotateSpeed:O,enableDamping:!0,target:b}),Object(u.jsx)(r.Suspense,{fallback:J,children:s})]})]})}"true"===localStorage.dark||!("dark"in localStorage)&&(null===(T=window.matchMedia("(prefers-color-scheme: dark)"))||void 0===T?void 0:T.matches)?document.documentElement.classList.add("dark-theme"):document.documentElement.classList.remove("dark-theme");var Y,Q,W,X,Z=function(){return Object(u.jsx)(o.a,{children:Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(z,{}),Object(u.jsxs)(i.c,{children:[Object(u.jsx)(i.a,{path:"/about",children:Object(u.jsx)(b,{})}),Object(u.jsx)(i.a,{path:"/contact",children:Object(u.jsx)(j,{})}),Object(u.jsx)(i.a,{path:"/search",children:Object(u.jsx)(F,{})}),Object(u.jsx)(i.a,{path:"/view/:id",children:Object(u.jsx)(K,{})}),Object(u.jsx)(i.a,{path:"/view",children:Object(u.jsx)(K,{})}),Object(u.jsx)(i.a,{path:"/",exact:!0,children:Object(u.jsx)(d,{})}),Object(u.jsx)(i.a,{path:"*",children:Object(u.jsx)(l,{})})]})]})})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,91)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};"dark"===(null===(Y=localStorage)||void 0===Y?void 0:Y.theme)||!("theme"in localStorage)&&(null===(Q=(W=window).matchMedia)||void 0===Q||null===(X=Q.call(W,"(prefers-color-scheme: dark)"))||void 0===X?void 0:X.matches)?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),c.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(Z,{})}),document.getElementById("root")),$()}},[[85,1,2]]]);
//# sourceMappingURL=main.ae03b394.chunk.js.map